<h1>10장 예외</h1>

예외를 제대로 활용한다면 프로그램의 가독성, 신뢰성, 유지보수성이 높아지지만, 잘못 사용하면 반대의 효과만 나타낸다.
이번 장에서는 예외를 효과적으로 활용하는 지침을 다룬다.


<h2>아이템 69. 예외는 진짜 예외 상황에만 사용하라</h2>

```
// 예외를 완전히 잘못 사용한 예.
try {
  int i=0;
  while(true){
    range[i++].climb();
  }
}catch(ArrayIndexOutOfBoundsException e){
}
```

해당 코드는 전혀 직관적이지 않다는 사실 하나만으로도 코드를 이렇게 작성하면 안된다.(아이템 67)
이 코드는 배열의 원소를 순회하는 데 아주 끔찍한 방법으로 하고 있다.
무한 로프를 돌다가 배열의 끝에 도달해 ArrayIndexOutOfBoundsException이 발생하면 끝을 내는 것이다.

이 코드를 다음과 같이 표준적인 관용구대로 작성했다면 모든 자바 프로그래머가 곧바로 이해했을 것이다.

```
for(Mountain m : range)
  m.climb();
```

위에 잘못된 코드에서 왜 루프를 써서 종료한 것일까? 이는 잘못된 푸론을 근거로 성능을 높여보려 한 것이다.
JVM은 배열에 접근할 때마다 경계를 넘지 않는지 검사하는데, 일반적인 반복문도 배열 경계에 도달하면 종료된다.
따라서 이 검사를 반복문에도 명시하면 같은 일이 중복되므로 하나를 생략한 것이다.

실상 예외를 사용한 쪽이 표준 관용구에 비해 훨씬 느리다.(테스트 결과 2배)

예외를 사용한 반복문의 해악은 코드를 헷갈리게 하고 성능을 떨어뜨리는데서 끝나지 않는다.
심지어 제대로 동작하지 않을 수도 있다.

심지어 반복문 안에 버그가 숨어 있다면 흐름 제어에 쓰인 예외가 이 버그를 숨겨 디버깅을 훨씬 어렵게할 것이다.

따라서 예외는 오직 예외 상황에서만 사용해야 한다. 절대로 일상적인 제어 흐름용으로 쓰여선 안 된다.





